{% extends "accountss/base.html" %}

{% block title %}Hall Details{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-lg-6 mt-5">
            <div class="card shadow mt-5">
                <img src="{{ hall.image.url }}" alt="" class="card-img-top rounded">
                <div class="card-body">
                    <h1 class="card-title font-weight-bold">{{ hall.name }}</h1>
                    <p class="card-text small">{{ hall.description }}</p>
                    <p class="card-text">Price per hour: ${{ hall.price_per_hour }}</p>
                    <p class="card-text">Capacity: {{ hall.capacity }}</p>
                </div>
            </div>
        </div>
        <div class="col-lg-6 mt-5">
            {% load widget_tweaks %}

            <form class="mt-5" action="{% url 'check_availability' hall.pk %}" method="post">
                {% csrf_token %}
                {% for field in form %}
                    <div class="mb-3">
                        {% render_field field class+="form-control rounded" placeholder=field.label %}
                    </div>
                {% endfor %}
                <button type="submit" class="btn rounded btn-primary mt-3">Check Availability</button>
            </form>

            {% if availability is not None %}
                <div class="mt-3">
                    {% if availability %}
                        <p class="text-success">The hall is available for the selected time slot.</p>
                        <a href="{% url 'book_hall' hall.pk %}" class="btn btn-success">Proceed to Booking</a>
                    {% else %}
                        <p class="text-danger">The hall is not available for the selected time slot. Please choose a different time slot.</p>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
